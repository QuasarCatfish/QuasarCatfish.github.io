<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- Meta -->
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="Minecraft Rush Duel Mod Developer Journal.">
        <meta name="author" content="Quas">

		<!-- Page info -->
		<title>Minecraft Rush Duel - Developer Journal</title>

		<!-- CSS and JS -->
		<link type="text/css" rel="stylesheet" href="/resources/css/dark.css">
		<script type="text/javascript" src="/resources/javascript/manage-theme.js"></script>
	</head>

	<body>
		<h1>Developer Journal</h1>
		<p>
			<a href="/projects/minecraft-rush-duel/">&lt;-- Back to Main Project Page</a>
		</p>

		<div id="week-2">
			<h3>Week 2</h3>
			<h4>May 29 to June 4</h4>

			<table>
				<tr>
					<th>Task</th>
					<th>Status</th>
					<th>Time Taken</th>
				</tr>
				<tr>
					<td><i>SEVENS</i> Duel Disk Item</td>
					<td>Not Started</td>
					<td></td>
				</tr>
				<tr>
					<td><i>GO RUSH!!</i> Duel Disk Item</td>
					<td>Not Started</td>
					<td></td>
				</tr>
				<tr>
					<td>External Data Storage</td>
					<td>Completed</td>
					<td>3 hours</td>
				</tr>
				<tr>
					<td>Updating Card Item</td>
					<td>Completed</td>
					<td>3 hours</td>
				</tr>
				<tr>
					<td>Starter Deck Item</td>
					<td>Completed</td>
					<td>3 hours</td>
				</tr>
				<tr>
					<td>Card Pack Item</td>
					<td>Completed</td>
					<td>1 hour</td>
				</tr>
				<tr>
					<td>Adding Card Data</td>
					<td>Completed</td>
					<td>3 hours</td>
				</tr>
				<tr>
					<td>Journal Update</td>
					<td></td>
					<td>1 hour</td>
				</tr>
			</table>

			<h3>External Data Storage</h3>
			<p>
				Yet another difficult task relating to cards!
				First it was figuring out how to have variable textures, now it was figuring out how to read from an external JSON.
				Typically, reading from an external JSON is very easy (just use Google's GSON library and give it the file path).
				However, this system needs to support reading JSON both from a developer environment as well as within a JAR (when the mod eventually gets published).
				As expected, there was a simple solution to this too.
			</p>
			<p>
				I was referenced another person's mod that uses a DataManager class to retrieve information from JSONs.
				From this, I could easily loop through all the files in the /data/cards/ folder and use GSON to create Card objects from the JSONs.
			</p>

			<h3>Updating Card Item</h3>
			<p>
				Most of the work for this task this week was integrating the card's NBT data with the Data Manager to pull the correct card data as well as displaying the card data in the item's tooltip.
				Since there are such a variety of cards (Normal Monsters, Effect Monsters, Spell/Trap Cards) with different formats (Effects, Continuous Effects, Multi-Choice Effects, Maixmum Monsters, Fusion Monsters), there are a lot of conditions in this one method to handle the formatting properly.
			</p>

			<h3>Starter Deck Item</h3>
			<p>
				I thought this would be relatively simple to implement since it was just creating a similar class to the Card class as well as reading in the external JSON data, but there were more issues at hand.
				Most of the issues I faced when implementing starter decks was just small bugs: missing a key-value pair in the JSON, forgetting to update the lang file, null pointer exceptions by referencing an invalid card ID, and more.
				I also needed to design the starter decks in such a way that they can give cards, other starter decks, and packs, which was just more casework and not too difficult.
			</p>

			<h3>Card Pack Item</h3>
			<p>
				Since card packs are relatively similar to starter decks, since they both give the player an assortment of cards, I thought this would be very easy to implement.
				I just needed to take the previous code and modify it to give random cards of the entire set instead of a set list of cards.
			</p>
			<p>
				The only issue with card packs currently is they don't match the pull rates of real Rush Duel booster packs, which I hope to update in the future.
				The primary reason for this is that there is no good data on pull rates, so I might have to ask around in various Japanese/Korean circles to try and figure out this information.
				Right now, the pack contains 4 commons and 1 non-common.
			</p>

			<h3>Adding Card Data</h3>
			<p>
				I added card data for all of the following cards:
				<ul>
					<li>The 14 unique cards in "Starter Deck Yuga - Cut Through! Sevens Road!!"</li>
					<li>The 14 unique cards in "Starter Deck Luke - Explosive Supremacy! Dragias!!"</li>
					<li>The 1 unique card in "Starter Deck Set - Yuga vs. Luke"</li>
					<li>"Yggdrago the Sky Emperor", "Yggdrago the Sky Emperor [L]", and "Yggdrago the Sky Emperor [R]"</li>
					<li>"Sevensgias the Magical Dragon Knight" and "Fusion"</li>
				</ul>
			</p>
			<img src="/resources/images/card_details.png" alt="&quot;Twin Edge Dragon&quot; details" height="100">
			<img src="/resources/images/card_details_2.png" alt="&quot;Yggdrago the Sky Emperor&quot; details" height="100">
			<img src="/resources/images/card_details_3.png" alt="&quot;Fusion&quot; details" height="100">
			<p>
				Additionally, I added the following premade decks:
				<ul>
					<li>"Starter Deck Yuga - Cut Through! Sevens Road!!"</li>
					<li>"Starter Deck Luke - Explosive Supremacy! Dragias!!"</li>
					<li>"Starter Deck Set - Yuga vs. Luke" (contains "Sevens Road Witch" promo card and the previous two starter decks)</li>
					<li>"Starter Deck Quasar - Developer Set" (custom deck containing "Yggdrago", "Sevensgias", and "Fusion")</li>
				</ul>
			</p>
			<img src="/resources/images/starter_deck_details.png" alt="&quot;Starter Deck Yuga - Cut Through! Sevens Road!!&quot; details" height="100">
			<p>
				Lastly, I added a "developers" pack that contains cards preexisting cards but are not an official set.
				This is to test the pack mechanic giving random cards without needing to add the data additional cards found in "Deck Mod Pack: Hyperspeed Rush Road!!"
				It currently contains all existing cards at various rarities.
			</p>
			<img src="/resources/images/card_pack_details.png" alt="&quot;Deck Mod Pack: Developer Set&quot; details" height="100">
			<img src="/resources/images/card_pack_details_2.png" alt="Using a card pack" height="200">
			<img src="/resources/images/card_pack_details_3.png" alt="5 cards received from using a card pack" height="100">
		</div>
		<hr>

		<!-- Week 1 -->
		<div id="week-1">
			<h3>Week 1</h3>
			<h4>May 22 to May 28</h4>

			<table>
				<tr>
					<th>Task</th>
					<th>Status</th>
					<th>Time Taken</th>
				</tr>
				<tr>
					<td>Setup Mod Project</td>
					<td>Completed</td>
					<td>1 hour</td>
				</tr>
				<tr>
					<td>Velgearium</td>
					<td>Completed</td>
					<td>2 hours</td>
				</tr>
				<tr>
					<td>Card Item</td>
					<td>Completed</td>
					<td>5 hours</td>
				</tr>
				<tr>
					<td>Creative Mode Tabs</td>
					<td>Completed</td>
					<td>15 minutes</td>
				</tr>
				<tr>
					<td>Language File</td>
					<td>Completed</td>
					<td>1 hour</td>
				</tr>
				<tr>
					<td>JEI Integration</td>
					<td>Completed</td>
					<td>15 minutes</td>
				</tr>
				<tr>
					<td>Patchouli Integration</td>
					<td>Postponed</td>
					<td></td>
				</tr>
				<tr>
					<td>Data Generators</td>
					<td>Completed</td>
					<td>2 hours</td>
				</tr>
				<tr>
					<td>Additional Research</td>
					<td></td>
					<td>4 hours</td>
				</tr>
				<tr>
					<td>Journal Update</td>
					<td></td>
					<td>2 hours</td>
				</tr>
			</table>

			<p>
				Firstly, I would like to thank <a href="https://www.youtube.com/@ModdingByKaupenjoe">Modding by Kaupenjoe</a> for his tutorials on Minecraft modding #NotSponsored.
				A large portion of the work this week was following the tutorials from Kaupenjoe's Minecraft 1.19.3 Forge Modding Tutorials playlist.
				Additionally, his Discord server provides a helpful place to ask questions about various modding topics, for when I inevitably get stuck somewhere.
			</p>

			<h4>Mod Project Setup</h4>
			<p>
				Setting up the mod project was fairly easy with Kaupenjoe's tutorial.
				Most of this was setting up the build.gradle and the mods.toml.
			</p>
			<p>
				The Rush Duel mod I am creating is for Minecraft 1.19.4, and I am currently using Forge 45.0.64, as this was the latest version of Forge out when creating the project.
				As there are currently no stable versions of Forge for Minecraft 1.19.4, I will likely update the Forge version to a stable version if one comes out during the course of this project.
				My IDE of choice for this project is IntelliJ Community Edition.
				Additionally, I will be using GIMP for creating 2D textures and Blockbench for creating 3D models.
			</p>

			<h4>Velgearium Material</h4>
			<p>
				Creating Velgearium was a pretty simple task.
				First, I created the following textures in GIMP: Velgearium Ore, Deepslate Velgearium Ore, Raw Velgearium, Block of Raw Velgearium, Velgearium Ingot, and Block of Velgearium.
				As of now, all of these textures are a retexture of their iron counterparts with a purple aesthetic to them.
				Ideally, I want most of these textures to be replaced, as Minecraft has unique textures for each of their ores and their raw materials.

			</p>
			<img src="/resources/images/velgearium.png" alt="Various Velgearium blocks and items in Minecraft" height="200">

			<h4>Card Item</h4>
			<p>
				Creating an item for Rush Duel Cards was a simple task that took much too long to acomplish.
				I first created textures for "Unknown" cards (which is just the card back), Normal Monsters, Effect Monsters, Fusion Monsters, Spell Cards, and Trap Cards.
				Then, creating a custom item and populating it with simple card data (such as the card's ID and type) was fairly straightforward and didn't take much time at all.
			</p>
			<p>
				The real difficulty was changing the item's texture based on the card's type (Normal Monster, Effect Monster, etc).
				The only way to achieve this, as far as I am aware, is through overrides, which are essentially a list of conditions that will set the item's texture based on the first predicate it passes.
				It took longer than it should have to understand how to create custom item properties in order to setup the predicates.
				I eventually figured out how to and created item properties for each card type, as well as where to call the property creation, and added these overrides to the card item's model file.
			</p>
			<img src="/resources/images/cards.png" alt="A Normal Monster, Effect Monster, Spell Card, and Trap Card textured in Minecraft" height="200">

			<h4>JEI and Patchouli</h4>
			<p>
				Just Enough Items (commonly abreviated to JEI) is a Minecraft Mod that lets players search for items, lookup recipes, and (if they have the permission to do so) cheat items into the game as if they were using the Creative mode menu.
				It took a quick change to the build.gradle and gradle.properties files to enable JEI in my developer environment.
				Adding it to the project is primarily used for custom recipies or information, and I hope to add a custom Card Information page in the future for JEI.
				I will postpone most of this work until next week, however, as I do not have a well structured data source for my cards.
			</p>
			<p>
				Patchouli is a Guidebook making API mod that lets other mod developers create very pretty information books for their mod.
				These books typically host information on various blocks and items added to the mod, how to obtain them, what they can be used for, etc.
				My goal was to create a Rush Duel Rulebook that lists the rules and gameplay of a Rush Duel, for new players to learn how to play the game.
				Currently, Patchouli is only updated to 1.19.3, and I'm not sure when this will be updated to 1.19.4.
				It may be the case where the 1.19.3 version works in 1.19.4 as well, and this is what I may test next week if I have additional time.
				Otherwise, this task will be postponed until Patchouli is updated to 1.19.4.
			</p>

			<h4>Data Generators</h4>
			<p>
				Creating data generators to create the .json data files I need was pretty easy as well.
				Below are the list of Data Generators I created, all with the help of Kaupenjoe's tutorials:
				<ul>
					<li>
						Recipe Provider
						<ul>
							<li>Enables crafting recipies, such as crafting between Velgearium Ingots and Blocks of Velgearium</li>
						</ul>
					</li>
					<li>
						Loot Table Provider
						<ul>
							<li>Mined blocks (ie Velgearium Ore) drops the correct item</li>
							<li>Correctly handles Silk Touch and Fortune enchants</li>
						</ul>
					</li>
					<li>
						Block State Provider and Item Model Provider
						<ul>
							<li>Used for creating model files for blocks and items</li>
						</ul>
					</li>
					<li>
						World Gen Provider
						<ul>
							<li>Used for having Velgearium Ore and Deepslate Velgearium Ore spawn in the Overworld</li>
						</ul>
					</li>
				</ul>
			</p>

			<h4>Other</h4>
			<p>
				Creative Mode Tabs were pretty easy to set up.
				The only difficulty going forward is to remember to add new blocks and items to the creative menus.
			</p>
			<p>
				Setting up the lang file was pretty easy.
				I added translations for the items, blocks, and creative tabs that I created this week.
				In the future, I plan to have the names, text, and effects of cards stored here too (as other languages will need to have them translated too).
			</p>

			<h4>Minecraft 1.20</h4>
			<p>
				This week, it was announced that Minecraft 1.20 would be releasing on June 7th.
				While this is very exciting and I can't wait to play with all the new features, I am currently not planning on updating this project to Minecraft 1.20.
				Firstly, Minecraft 1.20 will likely not be stable at release, and 1.20.1 and 1.20.2 will follow, adding more stability and bug fixes to the game.
				Secondly, Forge will take some time to update to everything added in 1.20; this may take weeks or months.
				I may decide to port my mod to 1.20 in the future, after all of my other features are added, but this may take a considerable amount of effort depending on how much was changed between 1.19.4 and 1.20.X.
			</p>
		</div>
		<hr>

		<!-- Week 0 -->
		<div id="week-0">
			<h3>Week 0</h3>
			<h4>May 15 to May 21</h4>
			<p>
				This week has been focused on creating the proposal for this project and setting up this page.
				<a href="/projects/minecraft-rush-duel/#tasks">A list of the project's tasks can be found here</a>.
				While the tasks are divided into "Minimum Viable Product" and "Stretch Goals", I intend to implement several stretch goal features within the project.
				This only serves as a defensive measure in case the required tasks take longer than expected to implement.
			</p>
			<p>
				Below is the preliminary weekly schedule for this project.
				I intend for many tasks to shift around depending on how long other tasks take to complete, the complexity of some tasks after more research is done, and unexpected developments.
				During each of my weekly updates, I intend to have a refined weekly task list as well as updates on what was and was not completed the previous week.
			</p>
			<p>
				The <a href="/projects/minecraft-rush-duel/#journal">Developer Journal</a> section on the main page will serve to host the most recent weekly update on the project while
				<a href="/projects/minecraft-rush-duel/journal">this page</a> will serve to host daily updates as well as all previous weekly updates.
			</p>
	
			<h3>Preliminary Schedule</h3>
			<table>
				<tr>
					<th>Week</th>
					<th>Tasks</th>
				</tr>
				<tr>
					<td><b>Week 0</b><br>May 15 to May 21</td>
					<td class="align-left">
						<ul>
							<li>Create a project proposal for a Minecraft Rush Duel mod.</li>
							<li>Conduct preliminary research into Minecraft Modding and Yu-Gi-Oh! Rush Duels.</li>
							<li>Create the <a href="/projects/minecraft-rush-duel/">project page</a> and <a href="/projects/minecraft-rush-duel/journal">journal page</a> for this project.</li>
						</ul>
					</td>
				</tr>
				<tr>
					<td><b>Week 1</b><br>May 22 to May 28</td>
					<td class="align-left">
						<ul>
							<li>
								Create mod project
								<ul>
									<li>Minecraft 1.19.4</li>
									<li>Forge 45.0.64 or latest</li>
									<li>Mod ID: rushduel</li>
								</ul>
							</li>
							<li>
								Create Velgearium
								<ul>
									<li>
										Velgearium Ore (ID rushduel:velgearium_ore)
										<ul>
											<li>Generates in the Overworld in Stone</li>
											<li>Drops Raw Velgearium when mined, affected by Fortune</li>
											<li>Drops Velgearium Ore when mined with Silk Touch</li>
											<li>Smelts into Velgearium Ingot</li>
										</ul>
									</li>
									<li>
										Deepslate Velgearium Ore (ID rushduel:deepslate_velgearium_ore)
										<ul>
											<li>Generates in the Overworld in Deepslate</li>
											<li>Drops Raw Velgearium when mined, affected by Fortune</li>
											<li>Drops Deepslate Velgearium Ore when mined with Silk Touch</li>
											<li>Smelts into Velgearium Ingot</li>
										</ul>
									</li>
									<li>
										Raw Velgearium (ID rushduel:raw_velgearium)
										<ul>
											<li>Smelts into Velgearium Ingot</li>
											<li>9x Craft into Block of Raw Velgearium</li>
										</ul>
									</li>
									<li>
										Block of Raw Velgearium (ID rushduel:raw_velgearium_block)
										<ul>
											<li>Crafts into 9x Raw Velgearium</li>
										</ul>
									</li>
									<li>
										Velgearium Ingot (ID rushduel:velgearium_ingot)
										<ul>
											<li>9x Craft into Block of Velgearium</li>
										</ul>
									</li>
									<li>
										Block of Velgearium (ID rushduel:velgearium_block)
										<ul>
											<li>Crafts into 9x Velgearium Ingot</li>
										</ul>
									</li>
								</ul>
							</li>
							<li>
								Create an empty card item with different textures based on the card's NBT
								<ul>
									<li>Normal Monster</li>
									<li>Effect Monster</li>
									<li>Fusion Monster</li>
									<li>Spell Card</li>
									<li>Trap Card</li>
								</ul>
							</li>
							<li>
								Create Creative mode tabs
								<ul>
									<li>Rush Duel</li>
									<li>Rush Duel - Cards</li>
									<li>Rush Duel - Card Packs</li>
								</ul>
							</li>
							<li>Research lang files and implement the naming convention</li>
							<li>Research <a href="https://www.curseforge.com/minecraft/mc-mods/jei">JEI</a> integration</li>
							<li>Research <a href="https://www.curseforge.com/minecraft/mc-mods/patchouli">Patchouli</a> integration</li>
						</ul>
					</td>
				</tr>
				<tr>
					<td><b>Week 2</b><br>May 29 to June 4</td>
					<td class="align-left">
						<ul>
							<li>
								Create two Duel Disk Models
								<ul>
									<li><i>Yu-Gi-Oh! SEVENS</i> Duel Disk</li>
									<li><i>Yu-Gi-Oh! GO RUSH!!</i> Duel Disk</li>
								</ul>
							</li>
							<li>Research external data storage options in Minecraft</li>
							<li>Implement some form of external data storage with at least the cards from Starter Deck Yuga</li>
							<li>Create a pack structure that can contain cards when opened</li>
						</ul>
					</td>
				</tr>
				<tr>
					<td><b>Week 3</b><br>June 5 to June 11</td>
					<td class="align-left">
						<ul>
							<li>Create custom UI component for dueling</li>
							<li>Have a predefined set of cards (most likely Starter Deck Yuga)</li>
							<li>Create a manual duel mode</li>
							<li>Research multiplayer replication for a non-physical container</li>
						</ul>
					</td>
				</tr>
				<tr>
					<td><b>Week 4</b><br>June 12 to June 18</td>
					<td class="align-left">
						<ul>
							<li>Research external data storage for player items</li>
							<li>
								Create a Deck container
								<ul>
									<li>40 - 60 non-Fusion Monster Cards in the Main Deck</li>
									<li>0 - 15 Fusion Monsters in the Extra Deck</li>
									<li>0 - 15 Cards in the Side Deck</li>
									<li>No more than 1 Monster Legend, 1 Spell Legend, and 1 Trap Legend in the Main Deck</li>
									<li>No more than 3 copies of a card anywhere</li>
								</ul>
							</li>
							<li>
								Create binder container
								<ul>
									<li>Stretch Goal: Implement searches and filters</li>
								</ul>
							</li>
						</ul>
					</td>
				</tr>
				<tr>
					<td><b>Week 5</b><br>June 19 to June 25</td>
					<td class="align-left">
						<ul>
							<li>Duel UI now uses your currently selected deck</li>
							<li>Research pre-existing unofficial Yu-Gi-Oh! Simulators for how they implement various dueling strucutres</li>
							<li>Start working on automating duels</li>
							<li>Implement automated drawing during the Draw Phase</li>
							<li>Implement Normal Summoning and Tribute Summoning</li>
							<li>Implement Maximum Summoning</li>
							<li>
								Implement activating Monster Effects
								<ul>
									<li>Effects do not need to do anything</li>
								</ul>
							</li>
							<li>
								Implement activating Spell and Trap Cards
								<ul>
									<li>Effects do not need to do anything</li>
								</ul>
							</li>
						</ul>
					</td>
				</tr>
				<tr>
					<td><b>Week 6</b><br>June 26 to July 2</td>
					<td class="align-left">
						<ul>
							<li>Continue working on automating duels</li>
							<li>Look into executing Lua or Python script through Java in a safe manner</li>
							<li>Start implement effect requirements</li>
							<li>Start implementing effect effects</li>
							<li>Implement Fusion Summoning</li>
							<li>Implement UI trigger for multi-choice effects</li>
						</ul>
					</td>
				</tr>
				<tr>
					<td><b>Week 7</b><br>July 3 to July 9</td>
					<td class="align-left">
						<ul>
							<li>Continue working on automatic duels</li>
							<li>Continue implement effect requirements</li>
							<li>Continue implementing effect effects</li>
						</ul>
					</td>
				</tr>
				<tr>
					<td><b>Week 8</b><br>July 10 to July 16</td>
					<td class="align-left">
						<ul>
							<li>Continue working on automatic duels</li>
							<li>Continue implement effect requirements</li>
							<li>Continue implementing effect effects</li>
						</ul>
					</td>
				</tr>
				<tr>
					<td><b>Week 9</b><br>July 17 to July 23</td>
					<td class="align-left">
						<ul>
							<li>
								Add some method of obtaining cards in Survival Mode
								<ul>
									<li>Mob drops</li>
									<li>Crafting</li>
									<li>Structure Chests</li>
								</ul>
							</li>
							<li>Research and implement a custom structure</li>
						</ul>
					</td>
				</tr>
				<tr>
					<td><b>Week 10</b><br>July 24 to July 30</td>
					<td class="align-left">
						<ul>
							<li>Currently allocated as a padding week.</li>
						</ul>
					</td>
				</tr>
			</table>
		</div>
	</body>
</html>
